language: csharp
matrix:
  include:
    - os: linux
      mono: 5.20.1
      before_install:
        - sudo apt-get install mono-devel mono-gmcs
    - os: windows
      language: c  # "language: csharp" is not yet supported in Travis CI Windows
      before_install:
        - choco install nuget.commandline
        - "echo \"build.sh must be rewritten to not rely on mono...\"" > build.sh
install:
  - nuget restore src/chocolatey.sln
before_script:
  - chmod +x build.sh
script:
  - ./build.sh -v
notifications:
  email:
    - chocolatey-build-status@googlegroups.com
  webhooks:
    urls:
      - https://webhooks.gitter.im/e/bd7909ec077be3f8873e
    on_success: change
    on_failure: always
    on_start: false
